{"version":3,"sources":["main.js"],"names":[],"mappings":";;;;;;AAEA;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAGA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;AACA;;;;AAEA,cAAI,MAAJ,CAAW,aAAX,GAA2B,KAA3B;AACA,cAAI,MAAJ,CAAW,KAAX,GAAmB,KAAnB;;AAEA,cAAI,GAAJ;AACA,cAAI,GAAJ;AACA,cAAI,GAAJ;;AAGA,cAAI,SAAJ,CAAc,MAAd;AACA,gBAAM,YAAN,CAAmB,QAAnB,CAA4B,GAA5B,CAAgC,UAAU,QAAV,EAAoB;AAElD,SAAO,QAAP;AACD,CAHD,EAGG,UAAU,KAAV,EAAiB;AAClB,UAAQ,GAAR,CAAY,MAAM,QAAN,CAAe,MAA3B;AACA,MAAI,MAAM,QAAN,CAAe,MAAf,KAA0B,GAA9B,EAAmC;AACjC,qBAAO,IAAP,CAAY,QAAZ;AACA;AACD;AACD,MAAI,MAAM,QAAN,CAAe,MAAf,KAA0B,GAA9B,EAAmC;AACjC,wBAAU,OAAV,CAAkB,KAAlB,CAAwB,iBAAxB;AACA;AACD;;AAED,SAAO,kBAAQ,MAAR,CAAe,KAAf,CAAP;AACD,CAfD;;AAiBA,cAAI,GAAJ;;AAEA,cAAI,GAAJ,wBAAkB,EAAC,IAAI,kCAAL,EAAlB;;AAGA,kBAAQ;AACN,MAAI,MADE;AAEN,0BAFM;AAGN,wBAHM;AAIN,YAAU,QAJJ;AAKN,cAAY,EAAE,kBAAF,EALN;AAMN,SAAO;AACL,cAAU;AADL,GAND;AASN,SATM,qBASK;AACT,SAAK,UAAL;AACD,GAXK;;AAYN,WAAS;AACP,cADO,wBACO;AAEZ,UAAI,CAAC,KAAK,MAAL,CAAY,KAAZ,CAAkB,KAAvB,EAA8B;AAE5B,aAAK,OAAL,CAAa,IAAb,CAAkB,QAAlB;AACD,OAHD,MAGO,CAGN;AACF;AAVM;AAZH,CAAR;;AA0BA,iBAAO,UAAP,CAAkB,UAAC,EAAD,EAAK,IAAL,EAAW,IAAX,EAAoB;AACpC,MAAI,GAAG,OAAH,CAAW,IAAX,CAAgB;AAAA,WAAU,OAAO,IAAP,CAAY,YAAtB;AAAA,GAAhB,CAAJ,EAAyD;AAGvD,QAAI,QAAQ,GAAG,OAAH,CAAW,IAAX,CAAgB,kBAAU;AACpC,UAAM,OAAO,OAAO,IAAP,CAAY,UAAzB;AACA,UAAI,SAAS,KAAb;AACA,UAAI,gBAAU,KAAV,CAAgB,IAAhB,CAAqB,OAArB,CAA6B,YAA7B,IAA6C,CAAjD,EAAoD;AAClD,iBAAS,IAAT;AACD,OAFD,MAEO,IAAI,gBAAU,KAAV,CAAgB,KAAhB,CAAsB,OAAtB,CAA8B,IAA9B,IAAsC,CAA1C,EAA6C;AAClD,iBAAS,IAAT;AACD;AACD,aAAO,MAAP;AACD,KATW,CAAZ;AAUA,QAAI,CAAC,KAAL,EAAY;AACV,WAAK;AACH,cAAM,QADH;AAEH,eAAO,EAAE,UAAU,GAAG,QAAf;AAFJ,OAAL;AAID,KALD,MAKO;AACL;AACD;AACF,GArBD,MAqBO;AACL;AACD;AACF,CAzBD","file":"main-compiled.js","sourcesContent":["// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport '../theme/index.css'\n\nimport Vue from 'vue'\nimport ElementUI from 'element-ui'\nimport router from './router'\nimport VueResource from 'vue-resource'\nimport axios from 'axios'\n// import VueAxios from 'vue-axios'\n// import VueAuth from '@websanova/vue-auth'\nimport vuexStore from './store/store'\nimport BaiduMap from 'vue-baidu-map'\nimport VueQuillEditor from 'vue-quill-editor'\nimport App from './App'\nimport VueLazyload from 'vue-lazyload'\n\nimport 'element-ui/lib/theme-default/index.css'\nimport '@/assets/css/style.css'\n\nVue.config.productionTip = false\nVue.config.debug = false\n\nVue.use(ElementUI)\nVue.use(VueResource)\nVue.use(VueLazyload)\n// Vue.use(VueAxios, axios)\n// axios.defaults.headers.common['Authorization'] = 'Bearer {eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjEsImlzcyI6Imh0dHA6XC9cL2xvY2FsaG9zdDo4ODg4XC9hcGlcL2FkbWluXC9sb2dpbiIsImlhdCI6MTQ5MzEyOTIxOCwiZXhwIjoxNDkzMTMyODE4LCJuYmYiOjE0OTMxMjkyMTgsImp0aSI6InA1Qm5aNDlKb2RIbnQ4TjkifQ.6yTMcPRK_gQNgCrxUB3Li9QMj1XRpTOh8m7RSF0qwHE}'\nVue.prototype.$axios = axios\naxios.interceptors.response.use(function (response) {\n  // Do something with response data\n  return response\n}, function (error) {\n  console.log(error.response.status)\n  if (error.response.status === 401) {\n    router.push('/login')\n    return\n  }\n  if (error.response.status === 500) {\n    ElementUI.Message.error('服务器出错啦，请联系技术人员！')\n    return\n  }\n  // Do something with response error\n  return Promise.reject(error)\n})\n\nVue.use(VueQuillEditor)\n/* 地图组件：https://dafrok.github.io/vue-baidu-map/#/start/usage */\nVue.use(BaiduMap, {ak: 'EH07OrMrG9wr6sK9mqRa8meYx3MSGgep'})\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router: router,\n  store: vuexStore,\n  template: '<App/>',\n  components: { App },\n  watch: {\n    '$route': 'checkLogin'\n  },\n  created () {\n    this.checkLogin()\n  },\n  methods: {\n    checkLogin () {\n      // 检查是否存在token\n      if (!this.$store.state.token) {\n        // 如果没有登录状态则跳转到登录页\n        this.$router.push('/login')\n      } else {\n        // 否则跳转到登录后的页面\n        // this.$router.push('/')\n      }\n    }\n  }\n})\n\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // this route requires auth, check if logged in\n    // if not, redirect to login page.\n    var check = to.matched.some(record => {\n      const menu = record.meta.accessMenu\n      var result = false\n      if (vuexStore.state.role.indexOf('superadmin') > 0) {\n        result = true\n      } else if (vuexStore.state.menus.indexOf(menu) > 0) {\n        result = true\n      }\n      return result\n    })\n    if (!check) {\n      next({\n        path: '/login',\n        query: { redirect: to.fullPath }\n      })\n    } else {\n      next()\n    }\n  } else {\n    next() // 确保一定要调用 next()\n  }\n})\n"]}